package com.taxifleet.server.network.rmi;

import java.rmi.RemoteException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;

import com.taxifleet.server.network.NetworkNode;

public class TaxiServers implements NetworkNodes {
	/**
	 * 
	 */
	private static final long serialVersionUID = -8021747469510516446L;

	private Collection<NetworkNode> nodes;

	private static final TaxiServers instance = new TaxiServers();

	private TaxiServers() {

	}

	public static TaxiServers getInstance() {
		return instance;
	}

	@Override
	public void registerNode(NetworkNode node) {
		if (nodes == null)
			nodes = new ArrayList<>();

		nodes.add(node);
	}

	@Override
	public Iterator<NetworkNode> getIterator() throws RemoteException {
		return nodes == null ? new ArrayList<NetworkNode>().iterator() : nodes
				.iterator();
	}
}
