package com.taxifleet.server.network.rmi;

import java.io.Serializable;
import java.net.InetAddress;
import java.net.UnknownHostException;

import com.taxifleet.server.BasicServer;
import com.taxifleet.server.network.NetworkNode;

public class NetworNodesTest implements Serializable {

	/**
	 * 
	 */
	private static final long serialVersionUID = -848383090796256443L;

	private NetworkNode node;

	public static void main(String[] args) throws UnknownHostException {
		NetworNodesTest t = new NetworNodesTest();
		InetAddress local = InetAddress.getLocalHost();
		BasicServer b1 = new BasicServer(local);
		BasicServer b2 = new BasicServer(local);
		BasicServer b3 = new BasicServer(local);
		BasicServer b4 = new BasicServer(local);
		BasicServer b5 = new BasicServer(local);
		
		t.addNode(b1);
		t.addNode(b2);
		t.addNode(b3);
		t.addNode(b4);
		t.addNode(b5);
		
		while (t.hasNext()) {
			System.out.println("count");
		}
		
	}

	public boolean hasNext() {
		return this.node != null;
	}
	
	public NetworkNode next() {
		if (node == null)
			throw new RuntimeException("NetworkNodes is empty.");
		
		NetworkNode result = node.clone();

		node = node.getNextNode();

		return result;
	}

	public void addNode(NetworkNode node) {
		NetworkNode actual = this.node;

		while (actual != null) {
			actual = actual.getNextNode();
		}
		
		actual = node;
	}

}
