package com.taxifleet.server.dao;

import java.rmi.RemoteException;
import java.util.List;

import com.taxifleet.server.BasicServer;
import com.taxifleet.server.Context;
import com.taxifleet.server.dao.tables.DbTable;
import com.taxifleet.server.network.NetworkNode;
import com.taxifleet.server.network.rmi.NoteElements;

public class RemoteDBObserver implements DBObserver {

	/**
	 * 
	 */
	private static final long serialVersionUID = -4029658258225361191L;

	private Context context;
	
	public void bla() {
		BasicServer server = context.getServerReference();
		NoteElements<NetworkNode> nodes = server.getNetworkNodes();
		
		try {
			while (nodes.hasNext()) {
				NetworkNode node = nodes.next();
				node.update();
			}
		} catch (RemoteException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
	@Override
	public void update(List<DbTable> o) {
		System.out.println("################### " + o.size()
				+ " tabelas alteradas.");

	}

}
